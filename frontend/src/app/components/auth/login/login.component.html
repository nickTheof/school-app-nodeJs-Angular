<div class="w-full md:w-[500px] md:mx-auto p-4 rounded-md">
  @if (isLoading()) {
  <app-loading-spinner></app-loading-spinner>
  } @if (error()) {
  <div class="flex justify-center my-6 w-full">
    <div
      class="w-full bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-lg shadow-md flex items-start gap-3"
    >
      <svg
        class="w-6 h-6 text-red-500 mt-1 shrink-0"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        viewBox="0 0 24 24"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path
          d="M12 9v2m0 4h.01M12 5C7.58 5 4 8.58 4 13s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8z"
        />
      </svg>
      <div class="text-sm">
        <strong class="block font-semibold">Σφάλμα!</strong>
        <span>{{ error() }}</span>
      </div>
    </div>
  </div>
  }
  <div class="h-16 text-center text-3xl font-thin mt-5">
    <span class="block">Είσοδος</span>
  </div>
  <form [formGroup]="form" class="p-4">
    <app-form-control
      [inputInfo]="{ labelId: 'email', text: 'Email' }"
      [errorInField]="getErrors(form, 'email')"
    >
      <div class="flex items-center gap-x-3 mb-3">
        <span class="text-stone-400"><i class="fa-solid fa-user"></i></span>
        <input
          class="grow h-10 p-2 text-sm placeholder:font-sans placeholder:text-sm focus:outline-none focus:ring focus:ring-inset-2 focus:ring-[#762124]"
          formControlName="email"
          type="email"
          placeholder="Εισάγετε το email σας"
          autocomplete="email"
        />
      </div>
    </app-form-control>
    <app-form-control
      [inputInfo]="{ labelId: 'password', text: 'Κωδικός' }"
      [errorInField]="getErrors(form, 'password')"
    >
      <div class="flex items-center gap-x-[10px] mb-[10px]">
        <span class="text-stone-400"><i class="fa-solid fa-lock"></i></span>
        <input
          class="grow h-10 p-2 text-sm placeholder:font-sans placeholder:text-sm focus:outline-none focus:ring focus:ring-inset-2 focus:ring-[#762124]"
          formControlName="password"
          type="password"
          placeholder="Εισάγετε τον κωδικό σας"
          autocomplete="current-password"
        />
      </div>
    </app-form-control>
    <div class="flex justify-end items-center mt-3 mb-5">
      <a
        class="text-sm text-stone-600 hover:text-stone-800 hover:underline hover:decoration-solid"
        routerLink="/"
      >
        Ξεχάσατε τον κωδικό σας;
      </a>
    </div>
    <button
      (click)="login()"
      type="submit"
      class="w-full h-9 border rounded-xl text-white text-sm font-thin bg-[#762124] hover:bg-[#5c1a1a] cursor-pointer disabled:cursor-not-allowed"
      [disabled]="form.invalid"
    >
      Είσοδος
    </button>
  </form>
  <div class="text-center mt-4">
    <span class="pe-1">Δεν έχετε λογαριασμό;</span>
    <a
      class="text-[#762124] hover:text-[#5c1a1a] hover:underline"
      [routerLink]="['../', 'register']"
    >
      Εγγραφή
    </a>
  </div>
</div>
